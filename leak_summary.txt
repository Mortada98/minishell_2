VALGRIND LEAK TEST SUMMARY
=========================
Date: Sat Aug  9 12:25:44 PM +01 2025

=== Test 1: Echo command ===
Commands: echo Hello World
Result: NO LEAKS
FD LEAKS: NO

=== Test 2: Echo with flags ===
Commands: echo -n Hello
Result: NO LEAKS
FD LEAKS: NO

=== Test 3: PWD command ===
Commands: pwd
Result: NO LEAKS
FD LEAKS: NO

=== Test 4: Environment variables ===
Commands: env
Result: NO LEAKS
FD LEAKS: NO

=== Test 5: Export variable ===
Commands: export TEST_VAR=hello
Result: NO LEAKS
FD LEAKS: NO

=== Test 6: Export and echo ===
Commands: export TEST_VAR=hello\necho $TEST_VAR
Result: NO LEAKS
FD LEAKS: NO

=== Test 7: Unset variable ===
Commands: export TEST_VAR=hello\nunset TEST_VAR\necho $TEST_VAR
Result: NO LEAKS
FD LEAKS: NO

=== Test 8: CD to directory ===
Commands: cd valgrind_tests\npwd
Result: NO LEAKS
FD LEAKS: NO

=== Test 9: CD back to parent ===
Commands: cd valgrind_tests\ncd ..\npwd
Result: NO LEAKS
FD LEAKS: NO

=== Test 10: LS command ===
Commands: ls
Result: NO LEAKS
FD LEAKS: NO

=== Test 11: LS with flags ===
Commands: ls -la
Result: NO LEAKS
FD LEAKS: NO

=== Test 12: Cat command ===
Commands: cat valgrind_tests/test_input.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 13: Grep command ===
Commands: grep Hello valgrind_tests/test_input.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 14: WC command ===
Commands: wc -l valgrind_tests/multiline.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 15: Echo pipe grep ===
Commands: echo Hello World | grep Hello
Result: NO LEAKS
FD LEAKS: YES
==158471== Open file descriptor 7: /home/mbouizak/Documents/minibash/test_input_15.txt
==158471== Open file descriptor 6:
==158471== Open file descriptor 5: /home/mbouizak/Documents/minibash/test_input_15.txt
==158471== Open file descriptor 4: /home/mbouizak/Documents/minibash/test_input_15.txt
==158471== Open file descriptor 3: /home/mbouizak/Documents/minibash/valgrind_output.log

=== Test 16: Cat pipe grep ===
Commands: cat valgrind_tests/multiline.txt | grep line1
Result: NO LEAKS
FD LEAKS: NO

=== Test 17: LS pipe wc ===
Commands: ls | wc -l
Result: NO LEAKS
FD LEAKS: NO

=== Test 18: Echo pipe cat ===
Commands: echo test | cat
Result: NO LEAKS
FD LEAKS: YES
==158502== Open file descriptor 7: /home/mbouizak/Documents/minibash/test_input_18.txt
==158502== Open file descriptor 6:
==158502== Open file descriptor 5: /home/mbouizak/Documents/minibash/test_input_18.txt
==158502== Open file descriptor 4: /home/mbouizak/Documents/minibash/test_input_18.txt
==158502== Open file descriptor 3: /home/mbouizak/Documents/minibash/valgrind_output.log

=== Test 19: Env pipe grep ===
Commands: env | grep PATH
Result: NO LEAKS
FD LEAKS: NO

=== Test 20: Three command pipe ===
Commands: echo Hello World Test | grep World | wc -w
Result: NO LEAKS
FD LEAKS: YES
==158523== Open file descriptor 7: /home/mbouizak/Documents/minibash/test_input_20.txt
==158523== Open file descriptor 6:
==158523== Open file descriptor 5: /home/mbouizak/Documents/minibash/test_input_20.txt
==158523== Open file descriptor 4: /home/mbouizak/Documents/minibash/test_input_20.txt
==158523== Open file descriptor 3: /home/mbouizak/Documents/minibash/valgrind_output.log

=== Test 21: Cat pipe grep pipe wc ===
Commands: cat valgrind_tests/multiline.txt | grep line | wc -l
Result: NO LEAKS
FD LEAKS: NO

=== Test 22: LS pipe grep pipe sort ===
Commands: ls -la | grep ^d | sort
Result: NO LEAKS
FD LEAKS: NO

=== Test 23: Echo pipe cat pipe grep ===
Commands: echo testing pipes | cat | grep pipe
Result: NO LEAKS
FD LEAKS: YES
==158568== Open file descriptor 7: /home/mbouizak/Documents/minibash/test_input_23.txt
==158568== Open file descriptor 6:
==158568== Open file descriptor 5: /home/mbouizak/Documents/minibash/test_input_23.txt
==158568== Open file descriptor 4: /home/mbouizak/Documents/minibash/test_input_23.txt
==158568== Open file descriptor 3: /home/mbouizak/Documents/minibash/valgrind_output.log

=== Test 24: Four command pipe ===
Commands: echo one two three four | tr ' ' '\n' | sort | head -2
Result: NO LEAKS
FD LEAKS: YES
==158579== Open file descriptor 3: /home/mbouizak/Documents/minibash/valgrind_output.log

=== Test 25: Echo redirect ===
Commands: echo Hello > valgrind_tests/output1.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 26: LS redirect ===
Commands: ls > valgrind_tests/output2.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 27: Echo append ===
Commands: echo World >> valgrind_tests/output1.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 28: PWD redirect ===
Commands: pwd > valgrind_tests/pwd_output.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 29: Env redirect ===
Commands: env > valgrind_tests/env_output.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 30: Cat input redirect ===
Commands: cat < valgrind_tests/test_input.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 31: Grep input redirect ===
Commands: grep Hello < valgrind_tests/test_input.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 32: WC input redirect ===
Commands: wc -l < valgrind_tests/multiline.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 33: Simple heredoc ===
Commands: cat << EOF\nHello\nWorld\nEOF
Result: NO LEAKS
FD LEAKS: NO

=== Test 34: Heredoc with grep ===
Commands: grep Hello << EOF\nHello World\nTest line\nEOF
Result: NO LEAKS
FD LEAKS: NO

=== Test 35: Heredoc with wc ===
Commands: wc -l << EOF\nline1\nline2\nline3\nEOF
Result: NO LEAKS
FD LEAKS: NO

=== Test 36: Pipe with output redirect ===
Commands: echo Hello World | grep Hello > valgrind_tests/combo1.txt
Result: NO LEAKS
FD LEAKS: YES
==158684== Open file descriptor 7: /home/mbouizak/Documents/minibash/test_input_36.txt
==158684== Open file descriptor 6:
==158684== Open file descriptor 5: /home/mbouizak/Documents/minibash/test_input_36.txt
==158684== Open file descriptor 4: /home/mbouizak/Documents/minibash/test_input_36.txt
==158684== Open file descriptor 3: /home/mbouizak/Documents/minibash/valgrind_output.log

=== Test 37: Input redirect with pipe ===
Commands: cat < valgrind_tests/test_input.txt | grep Hello
Result: NO LEAKS
FD LEAKS: NO

=== Test 38: Multiple pipes with redirect ===
Commands: echo one two three | tr ' ' '\n' | sort > valgrind_tests/sorted.txt
Result: NO LEAKS
FD LEAKS: YES
==158704== Open file descriptor 3: /home/mbouizak/Documents/minibash/valgrind_output.log

=== Test 39: Heredoc with pipe ===
Commands: cat << EOF | grep test\ntest line\nother line\nEOF
Result: NO LEAKS
FD LEAKS: NO

=== Test 40: Complex pipe chain ===
Commands: ls -la | grep ^- | wc -l > valgrind_tests/file_count.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 41: Echo with redirect ===
Commands: echo Built-in test > valgrind_tests/builtin_out.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 42: PWD with redirect ===
Commands: pwd > valgrind_tests/pwd_builtin.txt
Result: NO LEAKS
FD LEAKS: NO

=== Test 43: Env with pipe ===
Commands: env | grep HOME
Result: NO LEAKS
FD LEAKS: NO

=== Test 44: Export with redirect ===
Commands: export | grep PATH > valgrind_tests/export_out.txt
Result: NO LEAKS
FD LEAKS: YES
==158764== Open file descriptor 7: /home/mbouizak/Documents/minibash/test_input_44.txt
==158764== Open file descriptor 6:
==158764== Open file descriptor 5: /home/mbouizak/Documents/minibash/test_input_44.txt
==158764== Open file descriptor 4: /home/mbouizak/Documents/minibash/test_input_44.txt
==158764== Open file descriptor 3: /home/mbouizak/Documents/minibash/valgrind_output.log

=== Test 45: Echo pipe to external ===
Commands: echo Hello | cat
Result: NO LEAKS
FD LEAKS: YES
==158775== Open file descriptor 7: /home/mbouizak/Documents/minibash/test_input_45.txt
==158775== Open file descriptor 6:
==158775== Open file descriptor 5: /home/mbouizak/Documents/minibash/test_input_45.txt
==158775== Open file descriptor 4: /home/mbouizak/Documents/minibash/test_input_45.txt
==158775== Open file descriptor 3: /home/mbouizak/Documents/minibash/valgrind_output.log

=== Test 46: PWD pipe to grep ===
Commands: pwd | grep home
Result: NO LEAKS
FD LEAKS: NO

=== Test 47: Env pipe to sort ===
Commands: env | sort | head -5
Result: NO LEAKS
FD LEAKS: NO

=== Test 48: Non-existent command ===
Commands: nonexistentcommand
Result: NO LEAKS
FD LEAKS: NO

=== Test 49: Invalid redirection ===
Commands: echo test > /dev/null/invalid
Result: NO LEAKS
FD LEAKS: NO

=== Test 50: Empty command ===
Commands: 
Result: NO LEAKS
FD LEAKS: YES
==158823== Open file descriptor 3: /home/mbouizak/Documents/minibash/valgrind_output.log

=== Test 51: Multiple spaces ===
Commands: echo    hello    world
Result: NO LEAKS
FD LEAKS: NO

=== Test 52: Special characters ===
Commands: echo 'hello world' | grep hello
Result: NO LEAKS
FD LEAKS: YES
==158841== Open file descriptor 7: /home/mbouizak/Documents/minibash/test_input_52.txt
==158841== Open file descriptor 6:
==158841== Open file descriptor 5: /home/mbouizak/Documents/minibash/test_input_52.txt
==158841== Open file descriptor 4: /home/mbouizak/Documents/minibash/test_input_52.txt
==158841== Open file descriptor 3: /home/mbouizak/Documents/minibash/valgrind_output.log

=== Test 53: Basic variable expansion ===
Commands: export VAR=test\necho $VAR
Result: NO LEAKS
FD LEAKS: NO

=== Test 54: Variable in command ===
Commands: export CMD=echo\n$CMD hello
Result: NO LEAKS
FD LEAKS: NO

=== Test 55: Exit status variable ===
Commands: echo test\necho $?
Result: NO LEAKS
FD LEAKS: NO

=== Test 56: Undefined variable ===
Commands: echo $UNDEFINED_VAR
Result: NO LEAKS
FD LEAKS: NO


FINAL SUMMARY
=============
Total tests run: 56
Tests with no leaks: 56
Tests with memory leaks: 0
Tests with FD leaks: 11
